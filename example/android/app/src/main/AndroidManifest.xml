<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <!-- 基本权限 -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />

    <!-- 推送所需权限 -->
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.VIBRATE" />

    <!-- 荣耀推送服务需要，用于跨进程调用 -->
    <uses-permission android:name="com.hihonor.push.permission.BIND_PUSH_SERVICE" />

    <!-- 荣耀推送相关权限 -->
    <uses-permission android:name="com.hihonor.push.permission.READ_PUSH_NOTIFICATION_INFO" />

    <!-- 华为推送相关权限 -->
    <uses-permission android:name="com.huawei.hms.permission.BIND_PUSH_SERVICE" />
    <uses-permission android:name="com.huawei.android.launcher.permission.CHANGE_BADGE" />

    <!-- 小米推送权限 -->
    <uses-permission android:name="com.xiaomi.xmsf.permission.MIPUSH_RECEIVE" />
    <uses-permission android:name="${applicationId}.permission.MIPUSH_RECEIVE" />

    <!-- 定义自定义权限 -->
    <permission
        android:name="${applicationId}.permission.MIPUSH_RECEIVE"
        android:protectionLevel="signature" />

    <!-- OPPO/Heytap 推送权限（不同ROM命名不同，建议都声明） -->
    <uses-permission android:name="com.coloros.mcs.permission.RECEIVE_MCS_MESSAGE" />
    <uses-permission android:name="com.heytap.mcs.permission.RECEIVE_MCS_MESSAGE" />

    <!-- VIVO推送权限 -->
    <!-- <uses-permission android:name="com.vivo.pushclient.permission.RECEIVE" /> -->

    <application
        android:label="wxtpush_client_example"
        android:icon="@mipmap/ic_launcher">

        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:launchMode="singleTop"
            android:taskAffinity=""
            android:theme="@style/LaunchTheme"
            android:configChanges="orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"
            android:hardwareAccelerated="true"
            android:windowSoftInputMode="adjustResize">
            <!-- Specifies an Android theme to apply to this Activity as soon as
                 the Android process has started. This theme is visible to the user
                 while the Flutter UI initializes. After that, this theme continues
                 to determine the Window background behind the Flutter UI. -->
            <meta-data
              android:name="io.flutter.embedding.android.NormalTheme"
              android:resource="@style/NormalTheme"
              />
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>

        <!-- 荣耀推送服务配置 -->
        <service
            android:name="com.wxtpush.client.push.vendors.HonorMessageService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.hihonor.push.action.MESSAGING_EVENT" />
            </intent-filter>
        </service>

        <!-- 华为推送服务配置 -->
        <service
            android:name="com.wxtpush.client.push.vendors.HuaweiMessageService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.huawei.push.action.MESSAGING_EVENT" />
            </intent-filter>
        </service>

        <!-- 小米推送 Receiver 已移至插件内部，客户端无需配置 -->

        <!-- OPPO/Heytap 推送：占位消息服务，满足 SDK/清单合并对自有 Service 的引用 -->
        <service
            android:name=".component.service.AppPushMessageService"
            android:exported="false"
            android:enabled="true" />

    <!-- OPPO/Heytap推送消息接收：
         仅获取Token无需手动注册SDK组件；请不要添加未知/占位类，避免覆盖AAR内置清单。
         如需接收消息，请根据官方文档注册相应的 Service/Receiver。 -->
        <!-- VIVO推送服务配置 -->
        <!--
        <service
            android:name="com.wxtpush.client.push.vendors.VivoMessageService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.vivo.pushclient.action.RECEIVE" />
            </intent-filter>
        </service>
        -->

        <!-- 荣耀推送AppID -->
        <meta-data
            android:name="com.hihonor.push.app_id"
            android:value="104440752" />

        <!-- 华为推送AppID -->
        <meta-data
            android:name="com.huawei.hms.client.appid"
            android:value="110807363"
            tools:replace="android:value" />

        <!-- OPPO推送配置 -->
        <!-- <meta-data
            android:name="com.heytap.mcs.appkey"
            android:value="85f05c636062439bb5b5a997312f61de" />
        <meta-data
            android:name="com.heytap.mcs.appsecret"
            android:value="649aff727c6340a7b47c1588cbcd9c7a" /> -->

        <!-- 兼容旧版SDK读取的 ColorOS 命名 -->
        <!-- <meta-data
            android:name="com.coloros.mcs.appkey"
            android:value="85f05c636062439bb5b5a997312f61de" />
        <meta-data
            android:name="com.coloros.mcs.appsecret"
            android:value="649aff727c6340a7b47c1588cbcd9c7a" /> -->

        <!-- VIVO推送配置 -->
        <!--
        <meta-data
            android:name="com.vivo.push.app_id"
            android:value="YOUR_VIVO_APP_ID" />
        <meta-data
            android:name="com.vivo.push.api_key"
            android:value="YOUR_VIVO_APP_KEY" />
        -->

        <!-- Don't delete the meta-data below.
             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java -->
        <meta-data
            android:name="flutterEmbedding"
            android:value="2" />
    </application>
</manifest>
